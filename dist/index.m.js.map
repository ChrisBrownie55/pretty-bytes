{"version":3,"file":"index.m.js","sources":["../index.ts"],"sourcesContent":["const UNITS = [\n  ['B', 'bytes'],\n  ['KiB', 'kibibytes'],\n  ['MiB', 'mebibytes'],\n  ['GiB', 'gibibytes'],\n  ['TiB', 'tebibytes'],\n  ['PiB', 'pebibytes'],\n  ['EiB', 'exbibytes'],\n  ['ZiB', 'zebibytes'],\n  ['YiB', 'yobibytes']\n];\n\nexport function format(size: number, locale = 'en') {\n  // Make negative numbers positive\n  const prefix = size < 0 ? '-' : '';\n  size = Math.abs(size);\n\n  // We are solving for `x` in this equation: 1024^x = size\n  // log2(size)/log2(1024) === log2(size)/10 === log1024(size)\n  const magnitude = Math.min(\n    Math.floor(Math.log2(size || 1) / 10),\n    UNITS.length\n  );\n\n  const formattedSize = parseFloat(\n    (size / 1024 ** magnitude || 0).toFixed(3)\n  ).toLocaleString(locale);\n\n  return [prefix + formattedSize, ...UNITS[magnitude]];\n}\n"],"names":["const","UNITS","format","size","locale","prefix","Math","abs","magnitude","min","floor","log2","length","parseFloat","toFixed","toLocaleString"],"mappings":"AAAAA,IAAMC,EAAQ,CACZ,CAAC,IAAK,SACN,CAAC,MAAO,aACR,CAAC,MAAO,aACR,CAAC,MAAO,aACR,CAAC,MAAO,aACR,CAAC,MAAO,aACR,CAAC,MAAO,aACR,CAAC,MAAO,aACR,CAAC,MAAO,uBAGMC,EAAOC,EAAcC,kBAAS,UAEtCC,EAASF,EAAO,EAAI,IAAM,GAChCA,EAAOG,KAAKC,IAAIJ,OAIVK,EAAYF,KAAKG,IACrBH,KAAKI,MAAMJ,KAAKK,KAAKR,GAAQ,GAAK,IAClCF,EAAMW,cAOD,CAACP,EAJcQ,YACnBV,WAAO,KAAQK,IAAa,GAAGM,QAAQ,IACxCC,eAAeX,WAEkBH,EAAMO"}